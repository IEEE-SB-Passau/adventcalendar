@import helper._
@import org.ieee_passau.models.User
@import org.ieee_passau.views.html.bootstrap3.password2
@import org.ieee_passau.views.html.main
@import play.api.data.Form
@import play.api.i18n.{Lang, Messages}
@import play.api.mvc.{Flash, RequestHeader}
@(token: String, passwordForm: Form[String])(implicit flash: Flash, sessionUser: Option[User], requestHeader: RequestHeader, lang: Lang)

@main(Messages("nav.user.resetpassword")) {
    <div class="well col-md-8 col-md-offset-2">
        @if(passwordForm.hasGlobalErrors) {
            <div class="alert alert-danger">
            @for(err <- passwordForm.globalErrors) {
                @err.message
            }
            </div>
        }

        @form(org.ieee_passau.controllers.routes.UserController.updatePassword(token), 'class -> "form-horizontal") {
            @CSRF.formField
            <fieldset>
                @password2(passwordForm("password"), passwordForm("password.main"), passwordForm("password.repeat"),
                    label1 = Messages("user.password") + "*", label2 = " " + Messages("user.password.repeat") + "*",
                    placeholder = Messages("user.password"), help = Messages("user.help.password"))
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button id="submit" type="submit" value="Submit" class="btn btn-primary">@Messages("general.save")</button>
                    </div>
                </div>
            </fieldset>
        }
    </div>
}
